/* Classic Slots â€” page-specific styles */
html, body { height: 100%; }

main.container.stack {
  min-height: 100svh;
  display: grid;
  grid-template-rows: 1fr auto;
  gap: var(--space-6, 24px);
}

/* Sticky controls area like Blackjack */
main.container.stack > .grid.cols-2 {
  position: sticky;
  bottom: 0;
  z-index: 10;
  background: var(--panel, rgba(0,0,0,.6));
  backdrop-filter: blur(8px);
  padding: var(--space-4,16px) var(--space-6,24px);
  border-top: 1px solid var(--border, rgba(255,255,255,.1));
  margin-top: auto;
}

main.container.stack > .grid.cols-2 .panel {
  background: transparent;
  box-shadow: none;
  margin: 0;
  padding: 0;
}

/* Slot felt/wrap */
.slot-wrap {
  flex: 1 1 auto;
  min-height: 0;
  background: radial-gradient(800px 500px at 50% 30%, var(--felt-2,#143d2a), transparent);
  border: 1px solid var(--border, rgba(255,255,255,.08));
  border-radius: var(--radius, 14px);
  padding: clamp(14px, 3vw, 24px);
  position: relative;
  overflow: hidden;
}

.slot-wrap::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: radial-gradient(rgba(255,255,255,.06) 1px, transparent 1px);
  background-size: 20px 20px;
  mask-image: radial-gradient(70% 70% at 50% 40%, black, transparent);
}

/* Reels */
.reels {
  display: grid;
  grid-template-columns: repeat(3, minmax(90px, 1fr));
  gap: clamp(10px, 2vw, 18px);
  max-width: 820px;
  margin-inline: auto;
}

.reel {
  height: clamp(140px, 26vw, 220px);
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.15);
  background: linear-gradient(180deg, #101315, #0a0d0f);
  box-shadow: var(--shadow-lg, 0 8px 30px rgba(0,0,0,.28)), inset 0 0 0 2px rgba(255,255,255,.05);
  overflow: hidden;
  display: grid;
  place-items: center;
  position: relative;
}

.symbol {
  font-size: clamp(44px, 8.2vw, 72px);
  filter: drop-shadow(0 6px 16px rgba(0,0,0,.6));
  user-select: none;
}

.reel.spin .symbol-strip {
    /* JS sets --spin-ms per reel so the swap happens exactly at animation end */
    animation: spin var(--spin-ms, 900ms) cubic-bezier(.2,.9,.25,1) forwards;
    will-change: transform;
}


.symbol-strip {
  display: grid;
  gap: 12px;
  place-items: center;
  position: absolute;
  top: -120%;
  width: 100%;
}

@keyframes spin {
  0%   { transform: translateY(-70%); }
  100% { transform: translateY(0%); }
}

/* Payline marker */
.payline-marker {
  position: absolute;
  left: 6%;
  right: 6%;
  top: 50%;
  transform: translateY(-50%);
  height: 0;
  border-top: 2px dashed rgba(255,255,255,.22);
  pointer-events: none;
}

.bet-line {
  display: flex;
  gap: 10px;
  align-items: baseline;
}
.bet-line .muted { color: var(--muted, #9aa4a8); }

/* Win/Lose glow on reels */
.win-glow { box-shadow: 0 0 0 3px rgba(61,255,155,.35), var(--shadow-lg, 0 8px 30px rgba(0,0,0,.28)); }
.lose-glow { box-shadow: 0 0 0 3px rgba(255,59,48,.35), var(--shadow-lg, 0 8px 30px rgba(0,0,0,.28)); }

/* Header button style parity */
.back-button {
  padding: 8px 16px;
  font-size: 15px;
  font-weight: 600;
  border-radius: 10px;
  cursor: pointer;
  transition: background-color .2s ease, transform .2s ease;
  background: var(--btn-bg, linear-gradient(180deg, #2e3438, #1a1d1f));
  color: var(--btn-fg, #fff);
  border: 1px solid rgba(255,255,255,.15);
  box-shadow: var(--shadow-md, 0 2px 8px rgba(0,0,0,.3));
  margin-right: 10px;
}
.back-button:hover {
  background: var(--btn-bg-hover, linear-gradient(180deg, #3c4449, #23282b));
  transform: scale(1.05);
}

/* Paytable list */
.paytable {
  margin-top: 6px;
  display: grid;
  gap: 4px;
}
.small { font-size: 12px; }
/* Img-based symbols should match emoji size */
.symbol img {
    width: clamp(44px, 8.2vw, 72px);
    height: auto;
    display: block;
    filter: drop-shadow(0 6px 16px rgba(0,0,0,.6));
    user-select: none;
}

/* Small icons used in the paytable */
.paytable .pt-sym {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

    .paytable .pt-sym img {
        width: 22px;
        height: 22px;
    }

/* Quick styling for the dropdown */
.select {
    appearance: none;
    background: var(--btn-bg, linear-gradient(180deg, #2e3438, #1a1d1f));
    color: #fff;
    border: 1px solid rgba(255,255,255,.15);
    border-radius: 10px;
    padding: 6px 10px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: var(--shadow-md, 0 2px 8px rgba(0,0,0,.3));
}
/* Fix big cherry size in consolation line */
.paytable p img {
    width: 22px;
    height: 22px;
    vertical-align: middle;
}

/* --- Reduce how much the sticky controls cover the reels --- */
main.container.stack > .grid.cols-2 {
    padding: 12px 18px; /* smaller than current 16/24 */
    gap: 14px;
}


/* Tighten paytable vertical rhythm */
.paytable {
    gap: 2px;
}


/* ===================================================== */
/* Paytable popup (hover + focus) */
/* ===================================================== */

.pt-wrap {
    position: relative;
    display: inline-block;
}

.pt-trigger {
    white-space: nowrap;
}

/* Hidden by default */
.pt-pop {
    position: absolute;
    right: 0; /* align to the right edge of button */
    bottom: calc(100% + 10px); /* pop above the sticky panel */
    width: min(360px, 78vw);
    max-height: 52vh;
    overflow: auto;
    background: rgba(10, 12, 12, 0.92);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 14px;
    box-shadow: 0 16px 50px rgba(0,0,0,0.6);
    backdrop-filter: blur(10px);
    padding: 12px 14px;
    z-index: 999;
    opacity: 0;
    transform: translateY(6px);
    pointer-events: none;
    transition: opacity 160ms ease, transform 160ms ease;
}

.pt-pop-head {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 12px;
    padding-bottom: 8px;
    margin-bottom: 8px;
    border-bottom: 1px solid rgba(255,255,255,0.10);
}

/* Show on hover OR keyboard focus within */
.pt-wrap:hover .pt-pop,
.pt-wrap:focus-within .pt-pop {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

/* Small tweak so paytable items breathe in the popup */
.pt-pop .paytable {
    margin-top: 0;
    gap: 6px;
}

/* === Slots only: double symbol size === */
.reel .symbol {
    font-size: clamp(88px, 16.4vw, 144px); /* exactly 2x your current clamp */
}

    .reel .symbol img {
        width: 1.5em;
        height: 1.5em;
        object-fit: contain;
        display: block;
    }
